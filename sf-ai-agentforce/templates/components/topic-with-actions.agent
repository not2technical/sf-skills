# Topic with Actions Template
# A topic that integrates with external systems via Flow or Apex actions
# This is a PARTIAL template - use within a complete agent file
#
# Usage: Replace {{placeholders}} with your values
# Note: Actions defined inside topic are local to that topic

topic {{topic_name}}:
	label: "{{TopicLabel}}"
	description: "{{TopicDescription}}"

	# Define actions available to this topic
	actions:
		{{action_name}}:
			description: "{{ActionDescription}}"
			inputs:
				{{input_name}}: {{input_type}}
					description: "{{InputDescription}}"
			outputs:
				{{output_name}}: {{output_type}}
					description: "{{OutputDescription}}"
			target: "{{ActionTarget}}"  # flow://FlowName or apex://ClassName.methodName

	reasoning:
		instructions: ->
			| {{TopicInstructions}}
			| Use the available actions to help the user.
			| Capture and communicate results clearly.
		actions:
			invoke_action: @actions.{{action_name}}
				with {{input_name}}=...
				set @variables.{{result_variable}} = @outputs.{{output_name}}

			back_to_menu: @utils.transition to @topic.topic_selector
